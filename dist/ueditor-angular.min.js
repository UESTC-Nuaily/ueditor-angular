/**
 * ueditor-angular - angular directive for UEditor
 * @version v1.0.0
 * @author tu.wenpan
 * @link https://github.com/twp0217/ueditor-angular#readme
 * @license MIT
 */
angular.module("ueditor-angular",[]).directive("ueditorAngular",["$timeout",function(t){return{restrict:"E",require:"ngModel",template:"<textarea></textarea>",scope:{setting:"=",onReady:"&",onContentChange:"&"},link:function(e,n,i,o){new(function(){function n(t,e){this._element=t,this._setting=e||{},this.init(),this.bindRender(),this.bindDestroy()}return n.prototype.init=function(){var n=this;if("undefined"==typeof UE)return void console.error("UEditor is missing");var i=new UE.ui.Editor(this._setting);i.render(this._element),i.addListener("ready",function(){n._ueditor=i,e.onReady({$ueditor:i})}),i.addListener("contentChange",function(){t(function(){o.$setViewValue(i.getContent()),e.onContentChange({$content:i.getContent()})})})},n.prototype.setContent=function(t){this._ueditor&&this._ueditor.setContent(t)},n.prototype.bindRender=function(){var t=this;o.$render=function(){t.setContent(o.$isEmpty(o.$viewValue)?"":o.$viewValue)}},n.prototype.bindDestroy=function(){var t=this;e.$on("$destroy",function(){t._ueditor&&(t._ueditor.destroy(),t._ueditor=null)})},n}())(n.children()[0]||n[0],e.setting)}}}]);