/**
 * ueditor-angular - angular directive for UEditor
 * @version v1.0.0
 * @author tu.wenpan
 * @link https://github.com/twp0217/ueditor-angular#readme
 * @license MIT
 */
angular.module("ueditor-angular",[]).directive("ueditorAngular",function(){return{restrict:"E",require:"ngModel",template:"<textarea></textarea>",scope:{setting:"=",onReady:"&",onContentChange:"&"},link:function(t,e,n,i){new(function(){function e(t,e){this._element=t,this._setting=e||{},this.init(),this.bindRender(),this.bindDestroy()}return e.prototype.init=function(){var e=this;if("undefined"==typeof UE)return void console.error("UEditor is missing");var n=new UE.ui.Editor(this._setting);n.render(this._element),n.addListener("ready",function(){e._ueditor=n,t.onReady({$ueditor:n})}),n.addListener("contentChange",function(){i.$setViewValue(n.getContent()),t.onContentChange({$content:n.getContent()})})},e.prototype.setContent=function(t){this._ueditor&&this._ueditor.setContent(t)},e.prototype.bindRender=function(){var t=this;i.$render=function(){t.setContent(i.$isEmpty(i.$viewValue)?"":i.$viewValue)}},e.prototype.bindDestroy=function(){var e=this;t.$on("$destroy",function(){e._ueditor&&(e._ueditor.destroy(),e._ueditor=null)})},e}())(e.children()[0]||e[0],t.setting)}}});